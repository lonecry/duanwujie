{"version":3,"sources":["webpack:///./src/lib/fenxiang.js","webpack:///./src/main.js"],"names":["wx","__webpack_require__","rem","document","documentElement","clientWidth","console","log","play_now","$","a","b","c","d","e","ua","ua_str","android","android2","iphone","ipad","pc","wechat","chinabluenews","window","navigator","userAgent","toLowerCase","test","jquery_default","getJSON","url","location","href","split","msg","success","config","debug","appId","timestamp","nonceStr","signature","jsApiList","ready","news_title","news_link","news_image","news_intro","news_Timeline","onMenuShareTimeline","title","link","imgUrl","onMenuShareAppMessage","desc","onMenuShareQQ","onMenuShareWeibo","wxIsReady","w","h","userAgentInfo","Agents","Array","flag","v","length","indexOf","IsPC","height","innerHeight","width","css","margin","marginTop","background","fontSize","minHeight","init","setTimeout","hide","fun","wait","pre","Swiper","initialSlide","direction","loop","speed","autoplay","addEventListener","getElementById","load","play","click","removeClass","addClass","pause","onscroll","remDistence","scrollTop","Date","getTime","args","arguments","now","apply","this","ajax","type","dataType","rlt","hints","data","hits","channelId","itemId","editorId","terminal","channel_id","item_id","editor_id","analysis"],"mappings":"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","file":"js/app.js","sourcesContent":["var wx = require('weixin-js-sdk');\r\nimport $ from \"jquery\"\r\nfunction fenxiang(a, b, c, d, e){\r\n\tvar ua = { //3\r\n\t\tandroid: false,\r\n\t\tandroid2: false,\r\n\t\tiphone: false,\r\n\t\tipad: false,\r\n\t\tpc: false,\r\n\t\twechat: false,\r\n\t\tchinabluenews: false\r\n\t};\r\n\tvar ua_str = window.navigator.userAgent.toLowerCase();\r\n\tif (/micromessenger/.test(ua_str)) {\r\n\t\tua.wechat = true;\r\n\t\tua.chinabluenews = false;\r\n\t}\r\n\tif (ua.wechat) {\r\n\t\tfunction getNewsLink(){\r\n\t\t\tvar link = location.search;\r\n\t\t\tlink = link.substr(1);\r\n\t\t\tvar link_arr = link.split('&');\r\n\t\t\tvar link_arr_length = link_arr.length;\r\n\t\t\tvar link_flag = false;\r\n\t\t\tfor (var i = 0; i < link_arr_length; i++) {\r\n\t\t\t\tif (link_arr[i].split(\"=\")[0] == \"play\") {\r\n\t\t\t\t\tlink_flag = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar url = location.href;\r\n\t\t\tif (!link_flag) {\r\n\t\t\t\treturn url + (url.indexOf('?') < 0 ? '?' : '&') + 'play=1';\r\n\t\t\t} else {\r\n\t\t\t\treturn url;\r\n\t\t\t}\r\n\t\t}\r\n\t\t$.getJSON('http://sso.cztvcloud.com/weixin_share/share?channel_id=181&callback=?', {url: location.href.split('#')[0]}, function (msg){\r\n\t\t\tif (msg.success) {\r\n\t\t\t\twx.config({\r\n\t\t\t\t\tdebug: false,\r\n\t\t\t\t\tappId: msg.appId,\r\n\t\t\t\t\ttimestamp: msg.timestamp,\r\n\t\t\t\t\tnonceStr: msg.nonceStr,\r\n\t\t\t\t\tsignature: msg.signature,\r\n\t\t\t\t\tjsApiList: [\r\n\t\t\t\t\t\t'onMenuShareTimeline',\r\n\t\t\t\t\t\t'onMenuShareAppMessage',\r\n\t\t\t\t\t\t'onMenuShareQQ',\r\n\t\t\t\t\t\t'onMenuShareWeibo'\r\n\t\t\t\t\t]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\twx.ready(function (){\r\n\t\t\t\tvar news_title = a;\r\n\t\t\t\tvar news_link = d;\r\n\t\t\t\tvar news_image = e;\r\n\t\t\t\tvar news_intro = b;\r\n\t\t\t\tvar news_Timeline = c;\r\n\t\t\t\twx.onMenuShareTimeline({\r\n\t\t\t\t\ttitle: news_Timeline,\r\n\t\t\t\t\tlink: news_link,\r\n\t\t\t\t\timgUrl: news_image\r\n\t\t\t\t});\r\n\t\t\t\twx.onMenuShareAppMessage({\r\n\t\t\t\t\ttitle: news_title,\r\n\t\t\t\t\tdesc: news_intro,\r\n\t\t\t\t\tlink: news_link,\r\n\t\t\t\t\timgUrl: news_image\r\n\t\t\t\t});\r\n\t\t\t\twx.onMenuShareQQ({\r\n\t\t\t\t\ttitle: news_title,\r\n\t\t\t\t\tdesc: news_intro,\r\n\t\t\t\t\tlink: news_link,\r\n\t\t\t\t\timgUrl: news_image\r\n\t\t\t\t});\r\n\t\t\t\twx.onMenuShareWeibo({\r\n\t\t\t\t\ttitle: news_title,\r\n\t\t\t\t\tdesc: news_intro,\r\n\t\t\t\t\tlink: news_link,\r\n\t\t\t\t\timgUrl: news_image\r\n\t\t\t\t});\r\n\t\t\t\tif (!window.wxIsReady) {\r\n\t\t\t\t\twindow.wxIsReady = true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\nexport {fenxiang}\r\n// module.exports = fenxiang\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/fenxiang.js\n// module id = null\n// module chunks = ","import 'swiper/dist/css/swiper.css'\r\nimport './assets/css/reset.css';\r\nimport './assets/css/animation.css';\r\nimport './assets/css/css.css';\r\nimport Swiper from \"swiper\";\r\nimport $ from \"jquery\";\r\nimport {CountUp} from 'countup.js';\r\nimport {fenxiang} from \"./lib/fenxiang\"\r\n\r\nlet index = 0\r\nlet air = 1 / 40;\r\nlet clickTimes = 0;\r\nlet score = 0;\r\nlet rem = document.documentElement.clientWidth\r\nconsole.log(`rem is ${rem}`);\r\nlet play_now = true;\r\nlet music_now = true;\r\nlet playused = false;\r\nlet change = false\r\nlet scrolled = false\r\n$(() =>{\r\n    fenxiang(\"守护蓝天，我助力！\", \"浙里的蓝天要你一起守护\", \"浙里的蓝天要你一起守护\", 'http://hudong.cztv.com/259978', \"http://o.cztvcloud.com/181/5252245/images/fenxiang.jpg\")\r\n    init()\r\n    setTimeout(() =>{\r\n        $('.loading').hide()\r\n    }, 500)\r\n    console.log(\"loaded\")\r\n    let mySwiper = new Swiper('.swiper-container', {\r\n        initialSlide: 0,\r\n        direction: 'horizontal',\r\n        loop: true,\r\n        speed: 300,\r\n        autoplay: false,//可选选项，自动滑动\r\n    })\r\n    //必须在微信Weixin JSAPI的WeixinJSBridgeReady才能生效\r\n    document.addEventListener(\"WeixinJSBridgeReady\", function (){\r\n        document.getElementById(\"musics\").load();\r\n        document.getElementById(\"musics2\").load();\r\n        document.getElementById(\"musics\").play();\r\n    }, false);\r\n    document.getElementById(\"musics\").play();\r\n    $(\".music_play\").click(function (){\r\n        if (play_now) {\r\n            $(\".music_play\").removeClass(\"music_pause\");\r\n            $(\".music_play\").addClass(\"music_pause\");\r\n            play_now = false;\r\n            playused = false;\r\n            $(\".bgMusic\")[0].pause();\r\n            // $(\".music\").attr(\"src\", \"https://o.cztvcloud.com/181/4892748/images/music-off.png\")\r\n        } else {\r\n            $(\".music_play\").removeClass(\"music_pause\");\r\n            play_now = true;\r\n            playused = false;\r\n            $(\".bgMusic\")[0].play();\r\n            // $(\".music\").attr(\"src\", \"https://o.cztvcloud.com/181/4892748/images/music-on.png\")\r\n        }\r\n    });\r\n    document.getElementById('scrollbox').onscroll = throttle(listenTop, 100)\r\n    function listenTop(){\r\n        //为了保证兼容性，这里取两个值，哪个有值取哪一个\r\n        //scrollTop就是触发滚轮事件时滚轮的高度\r\n        var scrollTop = document.getElementById(\"scrollbox\").scrollTop;\r\n        let remDistence = scrollTop * 7.50 / rem\r\n        console.log(\"滚动距离:\" + remDistence);\r\n    }\r\n})\r\nfunction throttle(fun, wait){//节流函数\r\n    let pre = new Date().getTime()\r\n    return function (){\r\n        let context = this;\r\n        let args = arguments;\r\n        let now = new Date().getTime()\r\n        if ((now - pre) > wait) {\r\n            fun.apply(context, args)\r\n            pre = new Date().getTime()\r\n        }\r\n    }\r\n}\r\n\r\nclass danmu {\r\n    constructor(which){\r\n        this.html =\r\n            `<div class = \"wx wx${which}\">\r\n            <img src = \"https://ohudong.cztv.com/5/259978/images/wr${which}.png\" class = \"wr${which}\" alt = \"\">\r\n            <img src = \"https://ohudong.cztv.com/5/259978/images/add1.png\" class = \"add1\" alt = \"\">\r\n            </div>`\r\n    }\r\n}\r\n\r\nfunction init(){\r\n    var w, h\r\n    if (IsPC()) {\r\n        var height = window.innerHeight\r\n        var width = height * 414 / 799\r\n        w = 414;\r\n        h = 666;\r\n        var pcw = 750 * (w / 750);//rem\r\n        var pch = 1334 * (w / 750);//\r\n        $(\"html\").css({\r\n            \"width\": width,\r\n            \"margin\": \"0 auto\",\r\n            \"marginTop\": \"0\",\r\n            \"height\": height,\r\n            \"background\": \"#fff\"\r\n        });\r\n        $(\"html\").css({fontSize: w / 750 * 100 + \"px\"});\r\n        $(\"html\").css({minHeight: h});\r\n    }\r\n}\r\nfunction IsPC(){\r\n    var userAgentInfo = navigator.userAgent;\r\n    console.log(userAgentInfo);\r\n    var Agents = new Array(\"Android\", \"iPhone\", \"SymbianOS\", \"Windows Phone\", \"iPad\", \"iPod\");\r\n    var flag = true;\r\n    for (var v = 0; v < Agents.length; v++) {\r\n        if (userAgentInfo.indexOf(Agents[v]) > 0) {\r\n            flag = false;\r\n            break;\r\n        }\r\n    }\r\n    return flag;\r\n}\r\nfunction GetQueryString(name){\r\n    var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\r\n    var r = window.location.search.substr(1).match(reg);\r\n    if (r != null) return unescape(r[2]);\r\n    return null;\r\n}\r\nfunction orient(){\r\n    if (window.orientation == 0 || window.orientation == 180) {//竖屏;//ipad、iphone竖屏；Andriod横屏\r\n        $(\".loading\").hide().removeClass(\"hp\");\r\n        return false;\r\n    } else if (window.orientation == 90 || window.orientation == -90) {//横屏;//ipad、iphone横屏；Andriod竖屏\r\n        $(\".loading\").show().addClass(\"hp\");\r\n        var video = document.getElementById(\"video\");\r\n        video.ended();\r\n        video.addEventListener(\"ended\", function (){\r\n            $(\"#video,.mask\").hide()\r\n        })\r\n        $(\"#video\").hide()\r\n        return false;\r\n    } else {\r\n        $(\".loading\").fadeOut();\r\n    }\r\n}\r\nfunction isAndroid(){\r\n    var u = navigator.userAgent;\r\n    var isAndroid = u.indexOf(\"Android\") > -1 || u.indexOf(\"Adr\") > -1; //android终端\r\n    return isAndroid\r\n}\r\nfunction musicreturn(){\r\n    $('#video').hide()\r\n    if (playused) {\r\n        $(\".music_play\").removeClass(\"music_pause\");\r\n        play_now = true;\r\n        playused = false;\r\n        $(\".bgMusic\")[0].play();\r\n        // $(\".music\").attr(\"src\", \"https://o.cztvcloud.com/181/4984956/images/musicon.png\")\r\n    }\r\n}\r\nvar videolists = [\r\n    \"http://v3.cztv.com/cztv/vod/2019/05/27/367acf32a5ad4175a619e833eb93d77d/h264_1500k_mp4.mp4\",\r\n    \"http://v3.cztv.com/cztv/vod/2019/05/27/a40e799358d44d9c834573abee880b7d/h264_1500k_mp4.mp4\",\r\n    \"http://v3.cztv.com/cztv/vod/2019/05/27/f169977498b34343afae837b4382e2e2/h264_1500k_mp4.mp4\",\r\n    \"http://v3.cztv.com/cztv/vod/2019/05/27/65d9f684f3c04899bcbe6349ddc4f779/h264_1500k_mp4.mp4\",\r\n    \"http://v3.cztv.com/cztv/vod/2019/05/27/d340f808ff4a4052b9b4253ed0bc9360/h264_1500k_mp4.mp4\",\r\n    \"http://v3.cztv.com/cztv/vod/2019/05/27/aebd763c3c60409598fbd337f15803ff/h264_1500k_mp4.mp4\",\r\n    \"http://v3.cztv.com/cztv/vod/2019/05/27/d0d969948778451c8e15147b1b8724cb/h264_1500k_mp4.mp4\",\r\n    \"http://v3.cztv.com/cztv/vod/2019/05/27/d30caca5c5404214846c1c09d528ccb9/h264_1500k_mp4.mp4\",\r\n    \"http://v3.cztv.com/cztv/vod/2019/05/27/ec57bd41a3fa4e64baacb9b4843f72e9/h264_1500k_mp4.mp4\",\r\n    \"http://v3.cztv.com/cztv/vod/2019/05/27/3c5515d9b22443cfbbbce19005b12acc/h264_1500k_mp4.mp4\",\r\n    \"http://v3.cztv.com/cztv/vod/2019/05/27/717d127f4eaa49a78e6630362351c01a/h264_1500k_mp4.mp4\",\r\n]\r\nvar city = [\"杭州\", \"宁波\", \"温州\", \"绍兴\", \"湖州\", \"嘉兴\", \"金华\", \"衢州\", \"台州\", \"丽水\", \"舟山\"]\r\n//点击量\r\n$.ajax({\r\n    url: 'http://d.cztvcloud.com/media/news?data_id=5252245&terminal=web&channel_id=181', /*url     :'http://d.cztvcloud.com/media/news?data_id=764588&terminal=web&channel_id=192',*/\r\n    type: 'get',\r\n    dataType: 'jsonp',\r\n    success: function (rlt){\r\n        var hints = rlt.data.hits\r\n        console.log(hints);\r\n        var analysisurl = \"http://d.cztvcloud.com/visit/ie\";\r\n        var channelId = '181';\r\n        var itemId = '5252245';\r\n        var title = 'read';\r\n        var editorId = '';\r\n        var type = '';\r\n        analysis(analysisurl, channelId, itemId, title, editorId, 1, type);\r\n        function analysis(url, channelId, itemId, title, editorId, terminal, type){\r\n            var data = {\r\n                channel_id: channelId,\r\n                item_id: itemId,\r\n                title: title,\r\n                editor_id: editorId,\r\n                terminal: terminal,\r\n                type: type\r\n            }\r\n            $.ajax({\r\n                type: \"GET\",\r\n                url: url,\r\n                data: data,\r\n                dataType: \"jsonp\",\r\n                success: function (data){\r\n                    console.log(data);\r\n                }\r\n            });\r\n        }\r\n    }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}